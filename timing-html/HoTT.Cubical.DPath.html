<html>
<head>
<title>DPath.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for DPath.v</h1>

<div class="code" title="File: DPath.v
Line: 1
Time: 0.017s">
<div class="time" style="width: 62.962962962963%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 1
Time: 0.018s">
<div class="time" style="width: 66.666666666667%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Declare Scope dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Delimit Scope dpath_scope with dpath.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition DPath {A} (P : A -&gt; Type) {a0 a1} (p : a0 = a1)
  (b0 : P a0) (b1 : P a1) : Type.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (b0 = b1).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* This allows DPaths to collapse to paths under cbn *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Arguments DPath _ / _ _ _ : simpl nomatch.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Here is an alternative definition of DPath, for now the original suffices *)
(* Definition DPath {A} (P : A -&gt; Type) {a0 a1} (p : a0 = a1)
  (b0 : P a0) (b1 : P a1) := transport P p b0 = b1.  *)

(* We can prove they are equivalent anyway *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_path_transport {A : Type} {P : A -&gt; Type}
           {a0 a1 : A} {p : a0 = a1} {b0 : P a0} {b1 : P a1}
  : transport P p b0 = b1 -&gt; DPath P p b0 b1.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 25
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_dp_path_transport {A} (P : A -&gt; Type) {a0 a1}
  (p : a0 = a1) (b0 : P a0) (b1 : P a1)
  : IsEquiv (@dp_path_transport A P a0 a1 p b0 b1).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 32
Time: 0.01s">
<div class="time" style="width: 37.037037037037%"></div>
<pre>
  serapply isequiv_adjointify; by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 33
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 34
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition equiv_dp_path_transport {A : Type} (P : A -&gt; Type)
           {a0 a1 : A} (p : a0 = a1) (b0 : P a0) (b1 : P a1)
  : transport P p b0 = b1 &lt;~&gt; DPath P p b0 b1
  := Build_Equiv _ _ (@dp_path_transport A P a0 a1 p b0 b1) _.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance istrunc_dp {A : Type} {P : A -&gt; Type} {n : trunc_index}
 {a0 a1} {p : a0 = a1} {b0 : P a0} {b1 : P a1} `{IsTrunc n.+1 (P a0)}
  `{IsTrunc n.+1 (P a1)} : IsTrunc n (DPath P p b0 b1).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 44
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
  apply (trunc_equiv _ dp_path_transport).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_ishprop {A : Type} (P : A -&gt; Type) {a0 a1} {p : a0 = a1}
  {b0 : P a0} {b1 : P a1} `{IsHProp (P a0)} `{IsHProp (P a1)}
  : DPath P p b0 b1.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 50
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply dp_path_transport, path_ishprop.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Here is a notation for DPaths that can make it easier to use *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "x =[ q ] y" := (DPath (fun t =&gt; DPath _ t _ _) q x y) (at level 10)
  : dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We have reflexivity for DPaths, this helps coq guess later *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_id {A} {P : A -&gt; Type} {a : A} {x : P a} : DPath P 1 x x := 1%path.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Althought 1%dpath is definitionally 1%path, coq cannot guess this so it helps
   to have 1 be a dpath before hand. *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "1" := dp_id : dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* DPath induction *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition DPath_ind (A : Type) (P : A -&gt; Type) (P0 : forall (a0 a1 : A)
  (p : a0 = a1) (b0 : P a0) (b1 : P a1), DPath P p b0 b1 -&gt; Type)
  : (forall (x : A) (y : P x), P0 x x 1%path y y 1) -&gt;
    forall (a0 a1 : A) (p : a0 = a1) (b0 : P a0) (b1 : P a1)
    (d : DPath P p b0 b1), P0 a0 a1 p b0 b1 d.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 68
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  intros X a0 a1 [] b0 b1 []; apply X.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* DPath version of apD *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_apD {A P} (f : forall a, P a) {a0 a1 : A}
  (p : a0 = a1) : DPath P p (f a0) (f a1).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 74
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* which corresponds to ordinary apD *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 78
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_path_transport_apD {A P} (f : forall a, P a) {a0 a1 : A} (p : a0 = a1)
  : dp_path_transport (apD f p) = dp_apD f p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 80
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A DPath over a constant family is just a path *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_const {A C} {a0 a1 : A} {p : a0 = a1} {x y}
  : (x = y) -&gt; DPath (fun _ =&gt; C) p x y.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance isequiv_dp_const {A C} {a0 a1 : A} {p : a0 = a1} {x y}
  : IsEquiv (@dp_const _ C _ _ p x y).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 92
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>
  destruct p; exact _.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 94
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>

Definition equiv_dp_const {A C} {a0 a1 : A} {p : a0 = a1} {x y}
  : (x = y) &lt;~&gt; DPath (fun _ =&gt; C) p x y
  := Build_Equiv _ _ dp_const _.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* dp_apD of a non-dependent map is just a constant DPath *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_apD_const {A B} (f : A -&gt; B) {a0 a1 : A}
  (p : a0 = a1) : dp_apD f p = dp_const (ap f p).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 102
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* An alternate version useful for proving recursion computation rules from induction ones *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 106
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_apD_const' {A B : Type} {f : A -&gt; B} {a0 a1 : A}
  {p : a0 = a1} : dp_const^-1 (dp_apD f p) = ap f p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply moveR_equiv_V.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply dp_apD_const.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Concatenation of dependent paths *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 113
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_concat {A} {P : A -&gt; Type} {a0 a1 a2}
  {p : a0 = a1} {q : a1 = a2} {b0 : P a0} {b1 : P a1} {b2 : P a2}
  : DPath P p b0 b1 -&gt; DPath P q b1 b2 -&gt; DPath P (p @ q) b0 b2.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  destruct p, q.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact concat.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO: Is level correct? *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "x '@D' y" := (dp_concat x y) (at level 10) : dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Inverse of dependent paths *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_inverse {A} {P : A -&gt; Type} {a0 a1} {p : a0 = a1}
  {b0 : P a0} {b1 : P a1} : DPath P p b0 b1 -&gt; DPath P p^ b1 b0.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 125
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact inverse.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO: Is level correct? *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "x '^D'" := (dp_inverse x) (at level 20) : dpath_scope.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* dp_apD distributes over concatenation *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 132
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_apD_pp (A : Type) (P : A -&gt; Type) (f : forall a, P a)
  {a0 a1 a2 : A} (p : a0 = a1) (q : a1 = a2)
  : dp_apD f (p @ q) = (dp_apD f p) @D (dp_apD f q).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 135
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
  by destruct p, q.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 136
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* dp_apD respects inverses *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_apD_V (A : Type) (P : A -&gt; Type) (f : forall a, P a)
  {a0 a1 : A} (p : a0 = a1) : dp_apD f p^ = (dp_apD f p)^D.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 141
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 142
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* dp_const preserves concatenation *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 145
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>Definition dp_const_pp {A B : Type} {a0 a1 a2 : A}
  {p : a0 = a1} {q : a1 = a2} {x y z : B} (r : x = y) (s : y = z)
  : dp_const (p:=p @ q) (r @ s) = (dp_const (p:=p) r) @D (dp_const (p:=q) s).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 148
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
  by destruct p,q.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 149
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section DGroupoid.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context {A} {P : A -&gt; Type} {a0 a1} {p : a0 = a1}
    {b0 : P a0} {b1 : P a1} {dp : DPath P p b0 b1}.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 155
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

  Definition dp_concat_p1 : (dp @D 1) =[concat_p1 _] dp.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 158
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_p1.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 161
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

  Definition dp_concat_1p : (1 @D dp) =[concat_1p _] dp.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_1p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 167
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

  Definition dp_concat_Vp : dp^D @D dp =[concat_Vp _] 1.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 170
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 171
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    apply concat_Vp.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 173
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

  Definition dp_concat_pV : dp @D (dp^D) =[concat_pV _] 1.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 176
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_pV.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section Concat.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 181
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

    Context {a2 a3} {q : a1 = a2} {r : a2 = a3}
       {b2 : P a2} {b3 : P a3}
       (dq : DPath P q b1 b2) (dr : DPath P  r b2 b3).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 185
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>

    Definition dp_concat_pp_p
      : ((dp @D dq) @D dr) =[concat_pp_p _ _ _] (dp @D (dq @D dr)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 189
Time: 0.007s">
<div class="time" style="width: 25.925925925926%"></div>
<pre>
      destruct p, q, r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 190
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
      apply concat_pp_p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 191
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 192
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>

    Definition dp_concat_p_pp
      : (dp @D (dq @D dr)) =[concat_p_pp _ _ _] ((dp @D dq) @D dr).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 196
Time: 0.007s">
<div class="time" style="width: 25.925925925926%"></div>
<pre>
      destruct p, q, r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 197
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
      apply concat_p_pp.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 198
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 199
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

  End Concat.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 201
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>

End DGroupoid.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Dependent paths over paths *)
(* These can be found under names such as dp_paths_l akin to transport_paths_l *)

</pre>
</div>
<div class="code" title="File: DPath.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dp_paths_l {A : Type} {x1 x2 y : A} (p : x1 = x2) (q : x1 = y) r
  : p^ @ q = r &lt;~&gt; DPath (fun x =&gt; x = y) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 209
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  refine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 210
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  apply equiv_concat_l, transport_paths_l.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 212
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_r {A : Type} {x y1 y2 : A} (p : y1 = y2) (q : x = y1) r
  :  q @ p = r &lt;~&gt; DPath (fun y =&gt; x = y) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 216
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  refine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l, transport_paths_r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 218
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 219
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_lr {A : Type} {x1 x2 : A} (p : x1 = x2) (q : x1 = x1) r
  : (p^ @ q) @ p = r &lt;~&gt; DPath (fun x : A =&gt; x = x) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 223
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l, transport_paths_lr.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 226
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_Fl {A B} {f : A -&gt; B} {x1 x2 : A} {y : B} (p : x1 = x2)
  (q : f x1 = y) r :  (ap f p)^ @ q = r &lt;~&gt; DPath (fun x =&gt; f x = y) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 230
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l, transport_paths_Fl.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 232
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 233
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_Fr {A B} {g : A -&gt; B} {y1 y2 : A} {x : B} (p : y1 = y2)
  (q : x = g y1) r :  q @ ap g p = r &lt;~&gt; DPath (fun y : A =&gt; x = g y) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 237
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l, transport_paths_Fr.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 239
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 240
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_FFlr {A B} {f : A -&gt; B} {g : B -&gt; A} {x1 x2 : A}
  (p : x1 = x2) (q : g (f x1) = x1) r
  : ((ap g (ap f p))^ @ q) @ p = r &lt;~&gt; DPath (fun x : A =&gt; g (f x) = x) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 245
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  refine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 246
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  apply equiv_concat_l, transport_paths_FFlr.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 247
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 248
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_FlFr {A B} {f g : A -&gt; B} {x1 x2 : A} (p : x1 = x2)
  (q : f x1 = g x1) r
  : ((ap f p)^ @ q) @ ap g p = r &lt;~&gt; DPath (fun x : A =&gt; f x = g x) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 253
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 254
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  apply equiv_concat_l, transport_paths_FlFr.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 256
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_paths_lFFr {A B} {f : A -&gt; B} {g : B -&gt; A} {x1 x2 : A} 
  (p : x1 = x2) (q : x1 = g (f x1)) r
  :  (p^ @ q) @ ap g (ap f p) = r &lt;~&gt; DPath (fun x : A =&gt; x = g (f x)) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 261
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l, transport_paths_lFFr.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 264
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>

Definition dp_paths_FlFr_D {A B} (f g : forall a : A, B a) 
  {x1 x2 : A} (p : x1 = x2) (q : f x1 = g x1) (r : f x2 = g x2)
  : ((apD f p)^ @ ap (transport B p) q) @ apD g p = r
    &lt;~&gt; DPath (fun x : A =&gt; f x = g x) p q r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 270
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  srefine (equiv_composeR' _ (Build_Equiv _ _ dp_path_transport _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 271
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  apply equiv_concat_l, transport_paths_FlFr_D.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 272
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 273
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Definition dp_compose' {A B} (f : A -&gt; B) (P : B -&gt; Type) {x y : A}
  {p : x = y} {q : f x = f y} (r : ap f p = q) (u : P (f x)) (v : P (f y))
  : DPath (fun x =&gt; P (f x)) p u v &lt;~&gt; DPath P q u v.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 278
Time: 0.004s">
<div class="time" style="width: 14.814814814815%"></div>
<pre>
  by destruct r, p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 280
Time: 0.027s">
<div class="time" style="width: 100%"></div>
<pre>

Definition dp_compose {A B} (f : A -&gt; B) (P : B -&gt; Type) {x y : A}
  (p : x = y) (u : P (f x)) (v : P (f y))
  : DPath (fun x =&gt; P (f x)) p u v &lt;~&gt; DPath P (ap f p) u v
  := dp_compose' f P (idpath (ap f p)) u v.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 285
Time: 0.007s">
<div class="time" style="width: 25.925925925926%"></div>
<pre>

Definition dp_apD_compose {A B : Type} (f : A -&gt; B) (P : B -&gt; Type)
           {x y : A} (p : x = y) (g : forall b:B, P b)
  : dp_apD (g o f) p = (dp_compose f P p (g (f x)) (g (f y)))^-1 (dp_apD g (ap f p)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 290
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 292
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Type constructors *)

(* Many of these lemmas exist already for transports but we prove them for
   DPaths anyway. If we change the definition of DPath to the transport,
   then these will no longer be needed. It is however, far more readable
   to keep such lemmas seperate, since it is difficult to otherwise search
   for a DPath lemma if they are all written using transports. *)

(** A version of [path_sigma] for [DPath]s *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition path_sigma_dp {A P} {x x' : A} {y : P x} {y' : P x'}
  (p : x = x') (q : DPath P p y y') : (x; y) = (x'; y').</pre>
</div>
<div class="code" title="File: DPath.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (ap _ q).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** An uncurried version *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition path_sigma_dp_uncurried {A P} {x x' : A} {y : P x} {y' : P x'}
  : {p : x = x' &amp; DPath P p y y'} -&gt; (x; y) = (x'; y').</pre>
</div>
<div class="code" title="File: DPath.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 311
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros [p q].</pre>
</div>
<div class="code" title="File: DPath.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (path_sigma_dp p q).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 314
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This is an equivalnece. "A path in a sigma type is a sigma type of paths" *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isequiv_path_sigma_dp_uncurried
  {A P} {x x' : A} {y : P x} {y' : P x'}
  : IsEquiv (@path_sigma_dp_uncurried A P x x' y y').</pre>
</div>
<div class="code" title="File: DPath.v
Line: 318
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 319
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  serapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: DPath.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 321
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (ap pr1 r).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 322
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>
    serapply dp_compose.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 323
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (dp_apD pr2 r).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: DPath.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: DPath.v
Line: 325
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 325
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    set (xy := (x; y)) in *.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 326
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    set (x'y':= (x';y')) in *.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 327
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
    change x with xy.1; change y with xy.2;
    change x' with x'y'.1; change y' with x'y'.2.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clearbody xy x'y'; clear x y x' y'.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 330
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    by destruct r.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: DPath.v
Line: 331
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  intros [p q].</pre>
</div>
<div class="code" title="File: DPath.v
Line: 332
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>
  by destruct p, q.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 333
Time: 0.003s">
<div class="time" style="width: 11.111111111111%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 334
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>

Lemma ap_pr1_path_sigma_dp {A : Type} {P : A -&gt; Type}
  {x x' : A} {y : P x} {y' : P x'} (p : x = x') (q : DPath P p y y')
  : ap pr1 (path_sigma_dp p q) = p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 338
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 339
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p, q.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 340
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 341
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* DPath over a forall *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 343
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>Definition dp_forall `{Funext} {A : Type} {B : A -&gt; Type} {C : sig B -&gt; Type}
  {a1 a2 : A} {p : a1 = a2} {f : forall x, C (a1; x)} {g : forall x, C (a2; x)}
  : (forall (x : B a1) (y : B a2) (q : DPath B p x y),
    DPath C (path_sigma_dp p q) (f x) (g y))
    &lt;~&gt; DPath (fun a =&gt; forall x, C (a; x)) p f g.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 348
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p; cbn.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_compose' _ (equiv_apD10 _ _ _)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_forall_id.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro a.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  serapply equiv_adjointify.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 354
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: DPath.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> by intros ? ? [].</pre>
</div>
<div class="code" title="File: DPath.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: DPath.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro F; exact (F a 1).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: DPath.v
Line: 357
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre> repeat (intro; apply path_forall).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 357
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
    by intros [].</pre>
</div>
<div class="code" title="File: DPath.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: DPath.v
Line: 359
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> by intro.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 359
Time: 0.004s">
<div class="time" style="width: 14.814814814815%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* DPath over an arrow *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 362
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_arrow `{Funext} {A : Type} {B C : A -&gt; Type}
  {a1 a2 : A} {p : a1 = a2} {f :  B a1 -&gt; C a1} {g : B a2 -&gt; C a2}
  : (forall x, DPath C p (f x) (g (p # x)))
    &lt;~&gt; DPath (fun x =&gt; B x -&gt; C x) p f g.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 366
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 367
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_forall.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 368
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Restricted version allowing us to pull the domain of a forall out *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 371
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Definition dp_forall_domain `{Funext} {D : Type} {A : Type} {B : D -&gt; A -&gt; Type}
  {t1 t2 : D} {d : t1 = t2} {f : forall x, B t1 x} {g : forall x, B t2 x}
  : (forall x, DPath (fun t =&gt; B t x) d (f x) (g x))
   &lt;~&gt; DPath (fun t =&gt; forall x, B t x) d f g.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct d.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 376
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_forall.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 377
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 378
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Necessery data to give a dependent path over a sigma type. *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 380
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>Definition dp_sigma {A : Type} {B : A -&gt; Type}
  {C : sig B -&gt; Type} {x1 x2 : A} {p : x1 = x2}
  {y1 : { y : B x1 &amp; C (x1; y) }} {y2 : { y : B x2 &amp; C (x2; y) }}
  (n : DPath B p y1.1 y2.1) (m : DPath C (path_sigma_dp p n) y1.2 y2.2)
  : DPath (fun x =&gt; { y : B x &amp; C (x; y) }) p y1 y2.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 384
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 385
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 386
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (path_sigma_dp n).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 387
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
  by apply dp_compose.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 388
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Uncurried version of dp_sigma *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 391
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>Definition dp_sigma_uncurried {A : Type} {B : A -&gt; Type}
  {C : sig B -&gt; Type} {x1 x2 : A} {p : x1 = x2}
  (y1 : { y : B x1 &amp; C (x1; y) }) (y2 : { y : B x2 &amp; C (x2; y) })
  : {n : DPath B p y1.1 y2.1 &amp; DPath C (path_sigma_dp p n) y1.2 y2.2}
    -&gt; DPath (fun x =&gt; { y : B x &amp; C (x; y) }) p y1 y2.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 395
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 396
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 397
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 398
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro nm.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply path_sigma_dp_uncurried.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  erapply equiv_functor_sigma_id.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 401
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: DPath.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 402
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>
    symmetry; serapply (dp_compose (exist B x1)).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: DPath.v
Line: 403
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply nm.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 404
Time: 0.006s">
<div class="time" style="width: 22.222222222222%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 405
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This is an equivlance. "A DPath of sigmas is a sigma of DPaths" *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 407
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>Global Instance isequiv_dp_sigma_uncurried {A : Type} {B : A -&gt; Type}
  {C : sig B -&gt; Type} {x1 x2 : A} {p : x1 = x2}
  {y1 : { y : B x1 &amp; C (x1; y) }} {y2 : { y : B x2 &amp; C (x2; y) }}
  : IsEquiv (@dp_sigma_uncurried A B C x1 x2 p y1 y2).</pre>
</div>
<div class="code" title="File: DPath.v
Line: 410
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 411
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 412
Time: 0.024s">
<div class="time" style="width: 88.888888888889%"></div>
<pre>
  exact _.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 413
Time: 0.005s">
<div class="time" style="width: 18.518518518519%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 414
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Useful for turning computation rules of HITs written with transports to
   ones written with DPaths. *)</pre>
</div>
<div class="code" title="File: DPath.v
Line: 417
Time: 0.002s">
<div class="time" style="width: 7.4074074074074%"></div>
<pre>Definition dp_apD_path_transport {A P} (f : forall a : A, P a)
  {a0 a1 : A} (p : a0 = a1) l
  : apD f p = dp_path_transport^-1 l -&gt; dp_apD f p = l.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 419
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 420
Time: 0.001s">
<div class="time" style="width: 3.7037037037037%"></div>
<pre>
  by destruct p.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 421
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: DPath.v
Line: 423
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


</pre>
</div>
</body>
</html>

