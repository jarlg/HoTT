<html>
<head>
<title>Equiv.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Equiv.v</h1>

<div class="code" title="File: Equiv.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*-  *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 2
Time: 0.017s">
<div class="time" style="width: 26.153846153846%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 2
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
Require Import WildCat.Core.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Equivalences in wild categories *)

(** We could define equivalences in any wild 2-category as bi-invertible maps, or in a wild 3-category as half-adjoint equivalences.  However, in concrete cases there is often an equivalent definition of equivalences that we want to use instead, and the important property we need is that it's logically equivalent to (quasi-)isomorphism. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 8
Time: 0.031s">
<div class="time" style="width: 47.692307692308%"></div>
<pre>Class HasEquivs (A : Type) `{Is1Cat A} :=
{
  CatEquiv' : A -&gt; A -&gt; Type where "a $&lt;~&gt; b" := (CatEquiv' a b);
  CatIsEquiv' : forall a b, (a $-&gt; b) -&gt; Type;
  cate_fun' : forall a b, (a $&lt;~&gt; b) -&gt; (a $-&gt; b);
  cate_isequiv' : forall a b (f : a $&lt;~&gt; b), CatIsEquiv' a b (cate_fun' a b f);
  cate_buildequiv' : forall a b (f : a $-&gt; b), CatIsEquiv' a b f -&gt; CatEquiv' a b;
  cate_buildequiv_fun' : forall a b (f : a $-&gt; b) (fe : CatIsEquiv' a b f),
      cate_fun' a b (cate_buildequiv' a b f fe) $== f;
  cate_inv' : forall a b (f : a $-&gt; b), CatIsEquiv' a b f -&gt; (b $-&gt; a);
  cate_issect' : forall a b (f : a $-&gt; b) (fe : CatIsEquiv' a b f),
    cate_inv' _ _ f fe $o f $== Id a;
  cate_isretr' : forall a b (f : a $-&gt; b) (fe : CatIsEquiv' a b f),
      f $o cate_inv' _ _ f fe $== Id b;
  catie_adjointify' : forall a b (f : a $-&gt; b) (g : b $-&gt; a)
    (r : f $o g $== Id b) (s : g $o f $== Id a), CatIsEquiv' a b f;
}.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 24
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Since apparently a field of a record can't be the source of a coercion (Coq complains about the uniform inheritance condition, although as officially stated that condition appears to be satisfied), we redefine all the fields of [HasEquivs]. *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 27
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>Definition CatEquiv {A} `{HasEquivs A} (a b : A)
  := @CatEquiv' A _ _ _ a b.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "a $&lt;~&gt; b" := (CatEquiv a b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments CatEquiv : simpl never.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 31
Time: 0.005s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_fun {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : a $-&gt; b
  := @cate_fun' A _ _ _ a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Coercion cate_fun : CatEquiv &gt;-&gt; Hom.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Being an equivalence should be a typeclass, but we have to redefine it.  (Apparently [Existing Class] doesn't work.) *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 39
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>Class CatIsEquiv {A} `{HasEquivs A} {a b : A} (f : a $-&gt; b)
  := catisequiv : CatIsEquiv' a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 40
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Global Instance cate_isequiv {A} `{HasEquivs A} {a b : A} (f : a $&lt;~&gt; b)
  : CatIsEquiv f
  := cate_isequiv' a b f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 44
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Definition Build_CatEquiv {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) {fe : CatIsEquiv f}
  : a $&lt;~&gt; b
  := cate_buildequiv' a b f fe.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 49
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Definition cate_buildequiv_fun {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) {fe : CatIsEquiv f}
  : cate_fun (Build_CatEquiv f) $== f
  := cate_buildequiv_fun' a b f fe.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 54
Time: 0.005s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition catie_adjointify {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) (g : b $-&gt; a)
           (r : f $o g $== Id b) (s : g $o f $== Id a)
  : CatIsEquiv f
  := catie_adjointify' a b f g r s.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 60
Time: 0.005s">
<div class="time" style="width: 7.6923076923077%"></div>
<pre>

Definition cate_adjointify {A} `{HasEquivs A} {a b : A}
           (f : a $-&gt; b) (g : b $-&gt; a)
           (r : f $o g $== Id b) (s : g $o f $== Id a)
  : a $&lt;~&gt; b
  := @Build_CatEquiv _ _ _ _ a b f (catie_adjointify f g r s).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This one we define to construct the whole inverse equivalence. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 68
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>Definition cate_inv {A} `{HasEquivs A} {a b : A} (f : a $-&gt; b) {fe : CatIsEquiv f}
  : b $&lt;~&gt; a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simple refine (cate_adjointify _ _ _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (@cate_inv' A _ _ _ a b f fe).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (@cate_issect' A _ _ _ a b f fe).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (@cate_isretr' A _ _ _ a b f fe).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "f ^-1$" := (cate_inv f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 78
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>

Definition cate_issect {A} `{HasEquivs A} {a b} (f : a $-&gt; b) {fe : CatIsEquiv f}
  : f^-1$ $o f $== Id a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@ @cate_issect' A _ _ _ a b f fe).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@R f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 85
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 86
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>

Definition cate_isretr {A} `{HasEquivs A} {a b} (f : a $-&gt; b) {fe : CatIsEquiv f}
  : f $o f^-1$ $== Id b.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ $@ @cate_isretr' A _ _ _ a b f fe).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (f $@L _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun'.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The identity morphism is an equivalence *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 96
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>Global Instance catie_id {A} `{HasEquivs A} (a : A)
  : CatIsEquiv (Id a)
  := catie_adjointify (Id a) (Id a) (cat_idl (Id a)) (cat_idl (Id a)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 98
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Definition id_cate {A} `{HasEquivs A} (a : A)
  : a $&lt;~&gt; a
  := Build_CatEquiv (Id a).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 102
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance reflexive_cate {A} `{HasEquivs A}
  : Reflexive (@CatEquiv A _ _ _)
  := id_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 106
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Global Instance symmetric_cate {A} `{HasEquivs A}
  : Symmetric (@CatEquiv A _ _ _)
  := fun a b f =&gt; cate_inv f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Equivalences can be composed. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 112
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>Definition compose_cate {A} `{HasEquivs A} {a b c : A}
  (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b) : a $&lt;~&gt; c.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 114
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>
  refine (cate_adjointify (g $o f) (f^-1$ $o g^-1$) _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre> refine (cat_assoc _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
    refine ((_ $@L cat_assoc_opp _ _ _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 117
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
    refine ((_ $@L (cate_isretr _ $@R _)) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 118
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
    refine ((_ $@L cat_idl _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply cate_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (cat_assoc _ _ _ $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 121
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
    refine ((_ $@L cat_assoc_opp _ _ _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 122
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
    refine ((_ $@L (cate_issect _ $@R _)) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 123
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
    refine ((_ $@L cat_idl _) $@ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply cate_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 125
Time: 0.01s">
<div class="time" style="width: 15.384615384615%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "g $oE f" := (compose_cate g f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 128
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Definition compose_cate_fun {A} `{HasEquivs A}
           {a b c : A} (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : cate_fun (g $oE f) $== g $o f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 133
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 134
Time: 0.009s">
<div class="time" style="width: 13.846153846154%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 135
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>

Definition compose_cate_funinv {A} `{HasEquivs A}
           {a b c : A} (g : b $&lt;~&gt; c) (f : a $&lt;~&gt; b)
  : g $o f $== cate_fun (g $oE f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 140
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
  apply gpd_rev.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 141
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 142
Time: 0.009s">
<div class="time" style="width: 13.846153846154%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 143
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Definition id_cate_fun {A} `{HasEquivs A} (a : A) 
  : cate_fun (id_cate a) $== Id a.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply cate_buildequiv_fun.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 149
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>

Definition compose_cate_assoc {A} `{HasEquivs A}
           {a b c d : A} (f : a $&lt;~&gt; b) (g : b $&lt;~&gt; c) (h : c $&lt;~&gt; d)
  : cate_fun ((h $oE g) $oE f) $== cate_fun (h $oE (g $oE f)).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 154
Time: 0.004s">
<div class="time" style="width: 6.1538461538462%"></div>
<pre>
  refine (compose_cate_fun _ f $@ _ $@ cat_assoc f g h $@ _ $@
                           compose_cate_funinv h _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (compose_cate_fun h g $@R _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (_ $@L compose_cate_funinv g f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 158
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 159
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Definition compose_cate_idl {A} `{HasEquivs A}
           {a b : A} (f : a $&lt;~&gt; b)
  : cate_fun (id_cate b $oE f) $== cate_fun f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 164
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
  refine (compose_cate_fun _ f $@ _ $@ cat_idl f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (cate_buildequiv_fun _ $@R _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 167
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Definition compose_cate_idr {A} `{HasEquivs A}
           {a b : A} (f : a $&lt;~&gt; b)
  : cate_fun (f $oE id_cate a) $== cate_fun f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 172
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
  refine (compose_cate_fun f _ $@ _ $@ cat_idr f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 173
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
  refine (_ $@L cate_buildequiv_fun _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 174
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 175
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Global Instance transitive_cate {A} `{HasEquivs A}
  : Transitive (@CatEquiv A _ _ _)
  := fun a b c f g =&gt; g $oE f.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Any sufficiently coherent functor preserves equivalences.  *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 181
Time: 0.006s">
<div class="time" style="width: 9.2307692307692%"></div>
<pre>Global Instance iemap {A B : Type} `{HasEquivs A} `{HasEquivs B}
       (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
       {a b : A} (f : a $-&gt; b) {fe : CatIsEquiv f}
  : CatIsEquiv (fmap F f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 185
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
  refine (catie_adjointify (fmap F f) (fmap F f^-1$) _ _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 187
Time: 0.007s">
<div class="time" style="width: 10.769230769231%"></div>
<pre> refine ((fmap_comp F f^-1$ f)^$ $@ fmap2 F (cate_isretr _) $@ fmap_id F _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 188
Time: 0.026s">
<div class="time" style="width: 40%"></div>
<pre> refine ((fmap_comp F f f^-1$)^$ $@ fmap2 F (cate_issect _) $@ fmap_id F _).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 188
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 189
Time: 0.007s">
<div class="time" style="width: 10.769230769231%"></div>
<pre>

Definition emap {A B : Type} `{HasEquivs A} `{HasEquivs B}
           (F : A -&gt; B) `{!Is0Functor F, !Is1Functor F}
           {a b : A} (f : a $&lt;~&gt; b)
  : F a $&lt;~&gt; F b
  := Build_CatEquiv (fmap F f).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** When we have equivalences, we can define what it means for a category to be univalent. *)</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cat_equiv_path {A : Type} `{HasEquivs A} (a b : A)
  : (a = b) -&gt; (a $&lt;~&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 199
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros []; reflexivity.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 201
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Class IsUnivalent1Cat (A : Type) `{HasEquivs A}
  := { isequiv_cat_equiv_path : forall a b, IsEquiv (@cat_equiv_path A _ _ _ a b) }.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Existing Instance isequiv_cat_equiv_path.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 205
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>

Definition cat_path_equiv {A : Type} `{IsUnivalent1Cat A} (a b : A)
  : (a $&lt;~&gt; b) -&gt; (a = b)
  := (cat_equiv_path a b)^-1.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Core of a 1-category *)

</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 212
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>Record core (A : Type) := { uncore : A }.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments uncore {A} c.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Instance is01cat_core {A : Type} `{HasEquivs A}
  : Is01Cat (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 217
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_Is01Cat ; cbv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a b ; exact (uncore a $&lt;~&gt; uncore b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros; apply id_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a b c ; apply compose_cate.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 221
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 222
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance is01cat_core_hom {A : Type} `{HasEquivs A} (a b : core A)
  : Is01Cat (a $-&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_Is01Cat.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 228
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre> intros f g ; exact (cate_fun f $== cate_fun g).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro f ; apply Id.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f g h ; apply cat_comp.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 230
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 231
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance is0gpd_core_hom {A : Type} `{HasEquivs A} (a b : core A)
  : Is0Gpd (a $-&gt; b).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Gpd.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g ; cbv.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply gpd_rev.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 239
Time: 0.006s">
<div class="time" style="width: 9.2307692307692%"></div>
<pre>

Global Instance is0functor_core_postcomp {A : Type} `{HasEquivs A}
       (a b c : core A) (h : b $-&gt; c) :
  Is0Functor (cat_postcomp a h).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g al; cbn in h.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 246
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
  exact (compose_cate_fun h f
           $@ (h $@L al)
           $@ (compose_cate_fun h g)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 249
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 250
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>

Global Instance is0functor_core_precomp {A : Type} `{HasEquivs A}
       (a b c : core A) (h : a $-&gt; b) :
  Is0Functor (cat_precomp c h).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 254
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g al; cbn in h.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 257
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
  exact (compose_cate_fun f h
           $@ (al $@R h)
           $@ (compose_cate_fun g h)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 260
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 261
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance is1cat_core {A : Type} `{HasEquivs A}
  : Is1Cat (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 264
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 265
Time: 0.065s">
<div class="time" style="width: 100%"></div>
<pre>
  rapply Build_Is1Cat.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 267
Time: 0.025s">
<div class="time" style="width: 38.461538461538%"></div>
<pre> intros; apply compose_cate_assoc.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 267
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 268
Time: 0.008s">
<div class="time" style="width: 12.307692307692%"></div>
<pre> intros; apply compose_cate_idl.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 269
Time: 0.008s">
<div class="time" style="width: 12.307692307692%"></div>
<pre> intros; apply compose_cate_idr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 269
Time: 0.002s">
<div class="time" style="width: 3.0769230769231%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 270
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance is0gpd_core {A : Type} `{HasEquivs A}
  : Is0Gpd (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Gpd.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 275
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>
  intros a b f; cbn in *; exact (f^-1$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 277
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre>

Global Instance is1gpd_core {A : Type} `{HasEquivs A}
  : Is1Gpd (core A).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 281
Time: 0.007s">
<div class="time" style="width: 10.769230769231%"></div>
<pre>
  apply Build_Is1Gpd; cbn ; intros a b f;
    refine (compose_cate_fun _ _ $@ _ $@ (id_cate_fun _)^$).</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 284
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre> apply cate_issect.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 285
Time: 0.001s">
<div class="time" style="width: 1.5384615384615%"></div>
<pre> apply cate_isretr.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 285
Time: 0.003s">
<div class="time" style="width: 4.6153846153846%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Equiv.v
Line: 287
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

