<html>
<head>
<title>MappingCylinder.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for MappingCylinder.v</h1>

<div class="code" title="File: MappingCylinder.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)

(** * Mapping Cylinders *)

</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 4
Time: 0.042s">
<div class="time" style="width: 100%"></div>
<pre>Require Import HoTT.Basics HoTT.Types Cubical.DPath Cubical.PathSquare.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 4
Time: 0.004s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>
Require Import HIT.Coeq Colimits.Pushout.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 6
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** As in topology, the mapping cylinder of a function [f : A -&gt; B] is a way to replace it with an equivalent cofibration (dually to how [hfiber] replaces it with an equivalent fibration).  We can't talk *internally* in type theory about cofibrations, but we can say metatheoretically what they are: functions with the isomorphism extension property.  So while we can't literally say "let [f] be a cofibration" we can do a mostly equivalent thing and say "let [f] be a map and consider its mapping cylinder".  Replacing a map by a cofibration can be useful because it allows us to make more equalities true definitionally. *)

(** ** Definitions *)

(** We define the mapping cylinder as the pushout of [f] and an identity map.  Peter Lumsdaine has given a definition of HIT mapping cylinders that are dependent on the codomain, so that the second factor is not just an equivalence but a trivial fibration.  However, at the moment we don't have a need for that.  *)

</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Cyl {A B : Type} (f : A -&gt; B) : Type
  := Pushout idmap f.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section MappingCylinder.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {A B : Type} {f : A -&gt; B}.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition cyl (a : A) : Cyl f
    := pushl a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 20
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Definition cyr (b : B) : Cyl f
    := pushr b.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 22
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

  Definition cyglue (a : A)
    : cyl a = cyr (f a)
    := pglue a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section CylInd.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Context (P : Cyl f -&gt; Type)
            (cyla : forall a, P (cyl a))
            (cylb : forall b, P (cyr b))
            (cylg : forall a, DPath P (cyglue a) (cyla a) (cylb (f a))).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition Cyl_ind_dp : forall c, P c.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 35
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
      srapply Pushout_ind.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 36
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cyla.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cylb.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 39
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre> intros a; apply dp_path_transport^-1, cylg.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition Cyl_ind_dp_beta_cyglue (a : A)
      : dp_apD Cyl_ind_dp (cyglue a) = cylg a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unfold Cyl_ind_dp.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 45
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
      refine ((dp_path_transport_apD _ _)^ @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 46
Time: 0.008s">
<div class="time" style="width: 19.047619047619%"></div>
<pre>
      apply moveR_equiv_M.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 47
Time: 0.005s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>
      rapply Pushout_ind_beta_pglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 48
Time: 0.016s">
<div class="time" style="width: 38.095238095238%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 49
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

  End CylInd.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 51
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Section CylRec.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 53
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    Context {P : Type} (cyla : A -&gt; P) (cylb : B -&gt; P) (cylg : cyla == cylb o f).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition Cyl_rec : Cyl f -&gt; P.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 57
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
      srapply Pushout_rec.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 58
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cyla.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cylb.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply cylg.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

    Definition Cyl_rec_beta_cyglue (a : A)
      : ap Cyl_rec (cyglue a) = cylg a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 65
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 66
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
      rapply Pushout_rec_beta_pglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  End CylRec.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition pr_cyl : Cyl f &lt;~&gt; B.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** Rather than adjointifying, we give all parts of the equivalence explicitly, so we can be sure of retaining the computational behavior of [eissect] and [eisretr].  However, it's easier to prove [eisadj] on the other side, so we reverse the equivalence first. *)
   </pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>symmetry.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 75
Time: 0.005s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>
    srapply Build_Equiv.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1:apply cyr.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 77
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    srapply Build_IsEquiv.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 79
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre> srapply Cyl_rec.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact idmap.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 82
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 83
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre> srapply Cyl_ind_dp.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a; cbn.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 84
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
        symmetry; apply cyglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros b; reflexivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a; cbn.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 87
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
        apply dp_paths_FFlr.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 88
Time: 0.003s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
        rewrite Cyl_rec_beta_cyglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply concat_pV_p.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros b; reflexivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros b; reflexivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 92
Time: 0.003s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 93
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>

  Definition ap_pr_cyl_cyglue (a : A)
    : ap pr_cyl (cyglue a) = 1
    := Cyl_rec_beta_cyglue _ _ _ a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The original map [f] factors definitionally through [Cyl f]. *)
 </pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pr_cyl_cyl (a : A) : pr_cyl (cyl a) = f a
    := 1.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 101
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>

End MappingCylinder.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Sometimes we have to specify the map explicitly. *)</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition cyl' {A B} (f : A -&gt; B) : A -&gt; Cyl f := cyl.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Definition pr_cyl' {A B} (f : A -&gt; B) : Cyl f -&gt; B := pr_cyl.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Functoriality *)

</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section FunctorCyl.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context {A B A' B': Type} {f : A -&gt; B} {f' : A' -&gt; B'}
          {ga : A -&gt; A'} {gb : B -&gt; B'}
          (g : f' o ga == gb o f).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Definition functor_cyl : Cyl f -&gt; Cyl f'.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 115
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    srapply Cyl_rec.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cyl o ga).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (cyr o gb).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 119
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
      refine (_ @ ap cyr (g a)).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 120
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (cyglue (ga a)).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 122
Time: 0.004s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>

  Definition ap_functor_cyl_cyglue (a : A)
    : ap functor_cyl (cyglue a) = cyglue (ga a) @ ap cyr (g a)
    := Cyl_rec_beta_cyglue _ _ _ a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The benefit of passing to the mapping cylinder is that it makes a square commute definitionally. *)
 </pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition functor_cyl_cyl (a : A) : cyl (ga a) = functor_cyl (cyl a)
    := 1.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The other square also commutes, though not definitionally. *)
 </pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 133
Time: 0.008s">
<div class="time" style="width: 19.047619047619%"></div>
<pre>Definition pr_functor_cyl (c : Cyl f)
    : pr_cyl (functor_cyl c) = gb (pr_cyl c)
    := ap (pr_cyl o functor_cyl) (eissect pr_cyl c)^.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      
  Definition pr_functor_cyl_cyl (a : A)
    : pr_functor_cyl (cyl a) = g a.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** Here we need [eissect pr_cyl (cyl a)] to compute. *)
   </pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 141
Time: 0.003s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>refine (ap _ (inv_V _) @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 141
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    refine (ap_compose functor_cyl pr_cyl (cyglue a) @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (ap _ (ap_functor_cyl_cyglue a) @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 143
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    refine (ap_pp _ _ _ @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 144
Time: 0.021s">
<div class="time" style="width: 50%"></div>
<pre>
    refine (whiskerR (ap_pr_cyl_cyglue (ga a)) _ @ concat_1p _ @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 145
Time: 0.004s">
<div class="time" style="width: 9.5238095238095%"></div>
<pre>
    refine ((ap_compose cyr _ (g a))^ @ _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply ap_idmap.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 147
Time: 0.015s">
<div class="time" style="width: 35.714285714286%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 148
Time: 0.005s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>

End FunctorCyl.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Coequalizers *)

(** A particularly useful application is to replace a map of coequalizers with one where both squares commute definitionally. *)

</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section CylCoeq.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 155
Time: 0.003s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
  Context {B A f g B' A' f' g'}
          {h : B -&gt; B'} {k : A -&gt; A'}
          (p : k o f == f' o h) (q : k o g == g' o h).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 158
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

  Definition CylCoeq : Type
    := Coeq (functor_cyl p) (functor_cyl q).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 161
Time: 0.003s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>

  Definition cyl_cylcoeq : Coeq f g -&gt; CylCoeq
    := functor_coeq cyl cyl (functor_cyl_cyl p) (functor_cyl_cyl q).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 164
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>

  Definition ap_cyl_cylcoeq_cglue (b : B)
    : ap cyl_cylcoeq (cglue b) = cglue (cyl b).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 168
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
    etransitivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 169
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
    1:rapply functor_coeq_beta_cglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 170
Time: 0.019s">
<div class="time" style="width: 45.238095238095%"></div>
<pre>
    exact (concat_p1 _ @ concat_1p _).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 171
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 172
Time: 0.009s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>

  Definition pr_cylcoeq : CylCoeq &lt;~&gt; Coeq f' g'
    := equiv_functor_coeq pr_cyl pr_cyl (pr_functor_cyl p) (pr_functor_cyl q).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 175
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>

  Definition ap_pr_cylcoeq_cglue (x : Cyl h)
    : PathSquare (ap pr_cylcoeq (cglue x)) (cglue (pr_cyl x))
                 (ap coeq (pr_functor_cyl p x))
                 (ap coeq (pr_functor_cyl q x)).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 181
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    apply sq_path.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply moveR_pM.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 183
Time: 0.008s">
<div class="time" style="width: 19.047619047619%"></div>
<pre>
    rewrite &lt;- (ap_V coeq).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 184
Time: 0.006s">
<div class="time" style="width: 14.285714285714%"></div>
<pre>
    rapply functor_coeq_beta_cglue.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 185
Time: 0.007s">
<div class="time" style="width: 16.666666666667%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 186
Time: 0.001s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>

  Definition pr_cyl_cylcoeq
    : functor_coeq h k p q == pr_cylcoeq o cyl_cylcoeq.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros c.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 191
Time: 0.009s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>
    refine (_ @ functor_coeq_compose cyl cyl (functor_cyl_cyl p) (functor_cyl_cyl q)
              pr_cyl pr_cyl (pr_functor_cyl p) (pr_functor_cyl q) c).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 193
Time: 0.011s">
<div class="time" style="width: 26.190476190476%"></div>
<pre>
    srapply functor_coeq_homotopy.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 194
Time: 0.002s">
<div class="time" style="width: 4.7619047619048%"></div>
<pre>
    1-2:reflexivity.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 195
Time: 0.005s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>
    all:intros b; cbn.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 196
Time: 0.005s">
<div class="time" style="width: 11.904761904762%"></div>
<pre>
    all:refine (concat_1p _ @ concat_1p _ @ _ @ (concat_p1 _)^).</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 197
Time: 0.033s">
<div class="time" style="width: 78.571428571429%"></div>
<pre>
    all:apply pr_functor_cyl_cyl.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 198
Time: 0.012s">
<div class="time" style="width: 28.571428571429%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 199
Time: 0.009s">
<div class="time" style="width: 21.428571428571%"></div>
<pre>

End CylCoeq.</pre>
</div>
<div class="code" title="File: MappingCylinder.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

