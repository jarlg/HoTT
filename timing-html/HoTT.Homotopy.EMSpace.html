<html>
<head>
<title>EMSpace.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for EMSpace.v</h1>

<div class="code" title="File: EMSpace.v
Line: 1
Time: 0.017s">
<div class="time" style="width: 2.7070063694268%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 1
Time: 0.018s">
<div class="time" style="width: 2.8662420382166%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 2
Time: 0.192s">
<div class="time" style="width: 30.573248407643%"></div>
<pre>
Require Import Pointed.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Cubical.DPath.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 4
Time: 0.241s">
<div class="time" style="width: 38.375796178344%"></div>
<pre>
Require Import Algebra.Group.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 5
Time: 0.009s">
<div class="time" style="width: 1.4331210191083%"></div>
<pre>
Require Import Algebra.AbelianGroup.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 6
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
Require Import Truncations.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Homotopy.Suspension.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 8
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
Require Import Homotopy.ClassifyingSpace.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 9
Time: 0.006s">
<div class="time" style="width: 0.95541401273885%"></div>
<pre>
Require Import Homotopy.HSpace.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import TruncType.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 11
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import UnivalenceImpliesFunext.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 12
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
Import TrM.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Formalisation of Eilenberg-MacLane spaces *)

</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Open Scope pointed_scope.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope nat_scope.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 17
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope bg_scope.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 18
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope mc_mult_scope.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** When X is 0-connected we see that Freudenthal doesn't let us characterise the loop space of a suspension. For this we need some extra assumptions about our space X.

Suppose X is a 0-connected, 1-truncated coherent H-space, then

  pTr 1 (loops (psusp X)) &lt;~&gt;* X

By coherent H-space we mean that left and right identity laws at the unit are the same.
*)

</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section LicataFinsterLemma.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 30
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>

  Context `{Univalence} (X : pType)
    `{IsConnected 0 X} `{IsTrunc 1 X} `{IsHSpace X}
    {coh : left_identity mon_unit = right_identity mon_unit}.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** This encode-decode style proof is detailed in Eilenberg-MacLane Spaces in Homotopy Type Theory by Dan Licata and Eric Finster *)

 </pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 38
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>Local Definition P : Susp X -&gt; Type
    := fun x =&gt; Tr 1 (North = x).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Definition codes : Susp X -&gt; 1 -Type.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 42
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    serapply Susp_rec.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: refine (BuildTruncType _ X).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: refine (BuildTruncType _ X).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_trunctype.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_hspace_left_op x).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 49
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>

  Local Definition transport_codes_merid x y
    : transport codes (merid x) y = x * y.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold codes.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 54
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite transport_idmap_ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 55
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
    rewrite ap_compose.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 56
Time: 0.005s">
<div class="time" style="width: 0.79617834394904%"></div>
<pre>
    rewrite Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 57
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
    rewrite ap_trunctype.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 58
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
    by rewrite transport_path_universe_uncurried.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 59
Time: 0.012s">
<div class="time" style="width: 1.9108280254777%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 60
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>

  Local Definition transport_codes_merid_V x
    : transport codes (merid mon_unit)^ x = x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold codes.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 65
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite transport_idmap_ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 66
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
    rewrite ap_V.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 67
Time: 0.005s">
<div class="time" style="width: 0.79617834394904%"></div>
<pre>
    rewrite ap_compose.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 68
Time: 0.005s">
<div class="time" style="width: 0.79617834394904%"></div>
<pre>
    rewrite Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 69
Time: 0.014s">
<div class="time" style="width: 2.2292993630573%"></div>
<pre>
    rewrite ap_trunctype.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 70
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
    rewrite transport_path_universe_V_uncurried.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply moveR_equiv_V.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    cbn; apply left_identity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 74
Time: 0.017s">
<div class="time" style="width: 2.7070063694268%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Definition encode : forall x, P x -&gt; codes x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 79
Time: 0.009s">
<div class="time" style="width: 1.4331210191083%"></div>
<pre>
    serapply Trunc_rec.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro p.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 81
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
    exact (transport codes p mon_unit).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 82
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Definition decode' : X -&gt; Tr 1 (@North X = North).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 87
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    exact (tr (merid x @ (merid mon_unit)^)).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 89
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>

  Local Definition transport_decode' x y
    : transport P (merid x) (decode' y)
    = tr (merid y @ (merid mon_unit)^ @ merid x).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold P.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 95
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold decode'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 96
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite transport_compose.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 97
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    generalize (merid x).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 98
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    generalize (merid y @ (merid mon_unit)^).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 99
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    intros p [].</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    cbn; apply ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 101
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_p1.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 103
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 104
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>

  Local Definition encode_North_decode' x : encode North (decode' x) = x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 106
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 107
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    cbn.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 108
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    rewrite transport_idmap_ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 109
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite ap_compose.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 110
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite ap_pp.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 111
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite ap_V.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 112
Time: 0.012s">
<div class="time" style="width: 1.9108280254777%"></div>
<pre>
    rewrite 2 Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 113
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite &lt;- path_trunctype_V.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 114
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite &lt;- path_trunctype_pp.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 115
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    rewrite ap_trunctype.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    rewrite transport_path_universe_uncurried.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 117
Time: 0.009s">
<div class="time" style="width: 1.4331210191083%"></div>
<pre>
    apply moveR_equiv_V; cbn.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 118
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    exact (right_identity _ @ (left_identity _)^).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 119
Time: 0.016s">
<div class="time" style="width: 2.5477707006369%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 120
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>

  Local Definition merid_mu (x y : X)
    : tr (n:=1) (merid (x * y)) = tr (merid y @ (merid mon_unit)^ @ merid x).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 124
Time: 0.01s">
<div class="time" style="width: 1.5923566878981%"></div>
<pre>
    set (Q := fun a b =&gt; tr (n:=1) (merid (a * b))
      = tr (merid b @ (merid mon_unit)^ @ merid a)).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 126
Time: 0.628s">
<div class="time" style="width: 100%"></div>
<pre>
    serapply (@wedge_incl_elim_uncurried _ (-1) (-1) _
      mon_unit _ _ mon_unit _ Q _ _ x y).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a b.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      cbn; unfold Q.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply istrunc_paths.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact _.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Q.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 133
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    srefine (_;_;_).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro b.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 135
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 136
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (concat_pp_p _ _ _ @ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (ap _ (concat_Vp _) @ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (concat_p1 _ @ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (left_identity b)^.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro a.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 143
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 144
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 145
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      refine (ap (fun x =&gt; concat x (merid a)) (concat_pV _) @ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (concat_1p _ @ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (right_identity a)^.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 149
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 150
Time: 0.006s">
<div class="time" style="width: 0.95541401273885%"></div>
<pre>
    apply ap, ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 151
Time: 0.007s">
<div class="time" style="width: 1.1146496815287%"></div>
<pre>
    rewrite &lt;- coh.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 152
Time: 0.045s">
<div class="time" style="width: 7.1656050955414%"></div>
<pre>
    rewrite ? concat_p_pp.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 153
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    apply whiskerR.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 154
Time: 0.007s">
<div class="time" style="width: 1.1146496815287%"></div>
<pre>
    generalize (merid mon_unit).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 155
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
    by intros [].</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 156
Time: 0.051s">
<div class="time" style="width: 8.1210191082803%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Definition decode : forall x, codes x -&gt; P x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 160
Time: 0.006s">
<div class="time" style="width: 0.95541401273885%"></div>
<pre>
    serapply Susp_ind; cbn.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: apply decode'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply tr, merid, x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 165
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
    serapply dp_path_transport^-1.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 166
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    apply dp_arrow.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro y.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply dp_path_transport.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 169
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    rewrite transport_codes_merid.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 170
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    rewrite transport_decode'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 171
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply merid_mu.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 173
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 174
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>

  Local Definition decode_encode : forall x (p : P x),
    decode x (encode x p) = p.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 177
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 179
Time: 0.047s">
<div class="time" style="width: 7.484076433121%"></div>
<pre>
    serapply Trunc_ind.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro p.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 181
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    destruct p; cbv.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 182
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
    apply ap, concat_pV.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 183
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We could call this pequiv_ptr_loop_psusp but since we already used that for the Freudenthal case, it seems appropriate to name licata_finster for this one case *)
 </pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Lemma licata_finster : pTr 1 (loops (psusp X)) &lt;~&gt;* X.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    serapply Build_pEquiv'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> serapply equiv_adjointify.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: exact (encode North).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: exact decode'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: intro; apply encode_North_decode'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 193
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      intro; apply decode_encode.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    reflexivity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 195
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 196
Time: 0.1s">
<div class="time" style="width: 15.923566878981%"></div>
<pre>

End LicataFinsterLemma.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


Section EilenbergMacLane.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Univalence}.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 202
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>

  Fixpoint EilenbergMacLane (G : Group) (n : nat) : pType
    := match n with
        | 0    =&gt; Build_pType G _
        | 1    =&gt; pClassifingSpace G
        | m.+1 =&gt; pTr m.+1 (psusp (EilenbergMacLane G m))
       end.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Notation "'K(' G , n )" := (EilenbergMacLane G n).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance istrunc_em {G : Group}  {n : nat} : IsTrunc n K(G, n).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 214
Time: 0.02s">
<div class="time" style="width: 3.1847133757962%"></div>
<pre>
    destruct n as [|[]]; exact _.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance isconnected_em {G : Group} (n : nat)
    : IsConnected n K(G, n.+1).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 220
Time: 0.003s">
<div class="time" style="width: 0.47770700636943%"></div>
<pre>
    induction n; exact _.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 221
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Open Scope trunc_scope.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* This is a straight forward property of truncations. Most of the proof is spent getting the indexing to work correctly. *)
 </pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Definition trunc_lemma (n : nat) X
    : pTr n.+2 X &lt;~&gt;* pTr n.+2 (pTr (n +2+ n) X).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    serapply Build_pEquiv'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> notypeclasses refine (Build_Equiv _ _ (Trunc_functor _ tr) _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      notypeclasses refine (isequiv_conn_map_ino n.+2 _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 232
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      1,2: exact _.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply conn_map_O_functor.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 234
Time: 0.004s">
<div class="time" style="width: 0.63694267515924%"></div>
<pre>
      intro x.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      notypeclasses refine (isconnected_pred_add n.-2 _ _).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 236
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      rewrite 2 trunc_index_add_succ.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      (* This has to be done by induction since n.-2.+2 only cancels when n &gt;= 0 i.e. a nat *)
     </pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>assert (p : (n .-2 +2+ n).+2 = (n +2+ n)).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 240
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre> induction n; try reflexivity; cbn.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        rewrite 2 trunc_index_add_succ.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        apply ap, ap.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 242
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
        destruct n; reflexivity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      destruct p.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply conn_map_to_O.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    all: reflexivity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 246
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma pequiv_loops_em_em (G : AbGroup) (n : nat)
    : loops K(G, n.+1) &lt;~&gt;* K(G, n).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct n.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1: apply pequiv_loops_bg_g.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    change (loops (pTr n.+2 (psusp (K(G, n.+1)))) &lt;~&gt;* K(G, n.+1)).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 254
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_ o*E (ptr_loops _ _)^-1* ).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 255
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct n.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 257
Time: 0.259s">
<div class="time" style="width: 41.242038216561%"></div>
<pre> serapply licata_finster.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 257
Time: 0.002s">
<div class="time" style="width: 0.31847133757962%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 258
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    transitivity (pTr n.+2 (K(G, n.+2))).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 260
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      transitivity (pTr n.+2 (pTr (n +2+ n) (K(G, n.+2)))).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: generalize (K(G, n.+2)); intro X'; apply trunc_lemma.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 262
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
      transitivity (pTr n.+2 (pTr (n +2+ n) (loops (psusp (K(G, n.+2)))))).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      {</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 264
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply pequiv_ptr_functor.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 264
Time: 0.006s">
<div class="time" style="width: 0.95541401273885%"></div>
<pre>
        serapply (pequiv_ptr_loop_psusp (K(G, n.+2)) n).</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      generalize (K(G, n.+2)); intro X'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 267
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply trunc_lemma.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    symmetry.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    serapply Build_pEquiv'.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 270
Time: 0.001s">
<div class="time" style="width: 0.15923566878981%"></div>
<pre>
    1: serapply equiv_tr.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    reflexivity.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 272
Time: 0.007s">
<div class="time" style="width: 1.1146496815287%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 273
Time: 0.007s">
<div class="time" style="width: 1.1146496815287%"></div>
<pre>

End EilenbergMacLane.</pre>
</div>
<div class="code" title="File: EMSpace.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>



</pre>
</div>
</body>
</html>

