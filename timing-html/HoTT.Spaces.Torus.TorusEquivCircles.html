<html>
<head>
<title>TorusEquivCircles.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for TorusEquivCircles.v</h1>

<div class="code" title="File: TorusEquivCircles.v
Line: 1
Time: 0.019s">
<div class="time" style="width: 0.69571585499817%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 1
Time: 0.035s">
<div class="time" style="width: 1.2815818381545%"></div>
<pre>
Require Import Cubical.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 2
Time: 0.002s">
<div class="time" style="width: 0.073233247894544%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 3
Time: 0.181s">
<div class="time" style="width: 6.6276089344562%"></div>
<pre>
Require Import HIT.Circle.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 4
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Torus.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* In this file we:
    - Prove that the Torus is equivalent to the product of two circles
 *)</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section TorusEquivCircle.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We use function extensionality when defining the
     map from circles to torus *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context `{Funext}.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 13
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Here is a cube filler for help with circle recursion into the torus *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 16
Time: 0.005s">
<div class="time" style="width: 0.18308311973636%"></div>
<pre>Definition c2t_square_and_cube
    : {s : Square loop_a loop_a
        (ap (S1_rec _ tbase loop_b) loop)
        (ap (S1_rec _ tbase loop_b) loop)
      &amp;  Cube s surf hr hr
         (sq_G1 (S1_rec_beta_loop _ _ _))
         (sq_G1 (S1_rec_beta_loop _ _ _))}.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 22
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 23
Time: 0.001s">
<div class="time" style="width: 0.036616623947272%"></div>
<pre>
    apply cu_fill_left.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 24
Time: 0.002s">
<div class="time" style="width: 0.073233247894544%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We define the map from the Torus to the Circles *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition t2c : Torus -&gt; S1 * S1.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    serapply Torus_rec.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (base, base).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* The point of the torus is taken to (base, base *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>+</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (path_prod' loop 1).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* loop_a is taken to loop in the first *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>+</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (path_prod' 1 loop).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* loop_b is taken to loop in the second *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>+</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (sq_prod hr vr).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* The square is the obvious product of squares *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We now define the curried function from the circles to the torus *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition c2t' : S1 -&gt; S1 -&gt; Torus.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    serapply S1_rec.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> serapply S1_rec.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>    (* Double circle recursion *)
     </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact tbase.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>      (* The basepoint is sent to the point of the torus *)
     </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact loop_b.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>     (* The second loop is sent to loop_b *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>+</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_forall.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  (* We use function extensionality here to induct *)
     </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>serapply S1_ind_dp.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* Circle induction as a DPath *)
     </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact loop_a.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>     (* The first loop is sent to loop_a *)
     </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>-</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 47
Time: 0.019s">
<div class="time" style="width: 0.69571585499817%"></div>
<pre> serapply sq_dp^-1.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* This DPath is actually a square *)
       </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>apply (pr1 c2t_square_and_cube).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* We apply the cap we found above *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 49
Time: 0.001s">
<div class="time" style="width: 0.036616623947272%"></div>
<pre>Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 49
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Here is the uncurried version *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition c2t : S1 * S1 -&gt; Torus.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 53
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply uncurry, c2t'.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 54
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* Computation rules for c2t' as a cube filler *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 58
Time: 0.005s">
<div class="time" style="width: 0.18308311973636%"></div>
<pre>Definition c2t'_beta :
    {bl1 : Square (ap (fun y =&gt; c2t' base y) loop) loop_b 1 1 &amp;
    {bl2 : Square (ap (fun x =&gt; c2t' x base) loop) loop_a 1 1 &amp;
    Cube (sq_ap2 c2t' loop loop) surf bl2 bl2 bl1 bl1}}.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 61
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_;_;_).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold sq_ap2.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 1. Unfusing ap *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 66
Time: 0.022s">
<div class="time" style="width: 0.80556572683999%"></div>
<pre>refine (cu_concat_lr (cu_ds (dp_apD_nat _ _ _
      (fun y =&gt; ap_compose _ (fun f =&gt; f y) _))) _
      (sji0:=?[X1]) (sji1:=?X1) (sj0i:=?[Y1]) (sj1i:=?Y1) (pj11:=1)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 2. Reducing c2t' on loop *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 70
Time: 0.033s">
<div class="time" style="width: 1.20834859026%"></div>
<pre>refine (cu_concat_lr (cu_ds (dp_apD_nat _ _ _
      (fun x =&gt; ap_apply_l _ _ @ apD10 (ap _(S1_rec_beta_loop _ _ _)) x))) _
      (sji0:=?[X2]) (sji1:=?X2) (sj0i:=?[Y2]) (sj1i:=?Y2) (pj11:=1)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 72
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 3. Reducing ap10 on function extensionality *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 74
Time: 0.061s">
<div class="time" style="width: 2.2336140607836%"></div>
<pre>refine (cu_concat_lr (cu_ds (dp_apD_nat _ _ _ (ap10_path_forall _ _ _))) _
      (sji0:=?[X3]) (sji1:=?X3) (sj0i:=?[Y3]) (sj1i:=?Y3) (pj11:=1)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 4. Reducing S1_ind_dp on loop *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 77
Time: 0.009s">
<div class="time" style="width: 0.32954961552545%"></div>
<pre>refine (cu_concat_lr (cu_G11 (ap _ (S1_ind_dp_beta_loop _ _ _))) _
      (sji0:=?[X4]) (sji1:=?X4) (sj0i:=?[Y4]) (sj1i:=?Y4) (pj11:=1)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 5. collapsing equivalence *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 80
Time: 0.007s">
<div class="time" style="width: 0.2563163676309%"></div>
<pre>refine (cu_concat_lr (cu_G11 (eisretr _ _)) _
      (sji0:=?[X5]) (sji1:=?X5) (sj0i:=?[Y5]) (sj1i:=?Y5) (pj11:=1)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* 6. filling the cube *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 83
Time: 0.003s">
<div class="time" style="width: 0.10984987184182%"></div>
<pre>apply c2t_square_and_cube.2.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 83
Time: 2.066s">
<div class="time" style="width: 75.649945075064%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 84
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Local Open Scope cube_scope.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We now prove that t2c is a section of c2t *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition t2c2t : Sect t2c c2t.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Sect.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* We start with Torus induction *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>refine (Torus_ind _ 1 _ _ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Our DSquare is really just a cube *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 96
Time: 0.048s">
<div class="time" style="width: 1.7575979494691%"></div>
<pre>apply cu_ds^-1.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* We pretend that our sides have sq_dpath o sq_dpath^-1
      and get rid of them *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 99
Time: 0.018s">
<div class="time" style="width: 0.6590992310509%"></div>
<pre>refine (cu_GGGGcc (eisretr _ _)^ (eisretr _ _)^
      (eisretr _ _)^ (eisretr _ _)^ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 100
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Apply a symmetry to get the faces on the right side *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 102
Time: 0.002s">
<div class="time" style="width: 0.073233247894544%"></div>
<pre>apply cu_rot_tb_fb.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Clean up other faces *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 104
Time: 0.02s">
<div class="time" style="width: 0.73233247894544%"></div>
<pre>refine (cu_ccGGGG (eisretr _ _)^ (eisretr _ _)^
      (eisretr _ _)^ (eisretr _ _)^ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Now we finish the proof with the following composition of cubes *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 107
Time: 0.05s">
<div class="time" style="width: 1.8308311973636%"></div>
<pre>refine ((sq_ap_compose t2c c2t surf)
      @lr (cu_ap c2t (Torus_rec_beta_surf _ _ _ _ _ ))
      @lr (sq_ap_uncurry _ _ _)
      @lr (pr2 (pr2 c2t'_beta))
      @lr (cu_flip_lr (sq_ap_idmap _))).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 111
Time: 1.065s">
<div class="time" style="width: 38.996704503845%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* NOTE: The last step in the previous proof can be done as a sequence of
     refines however coq really struggles to unify this. Below is the original
     way we proved the last statement before making it short and sweet. As can
     be seen, we need to give refine hints using existential variables which is
     tedious to write out, and perhaps motivates why we wrote it as one big
     concatenation. Ideally the way below should be as smooth as the way above,
     since above is difficult to write directly without having tried below.

    (* Now we decompose the cube with middle sq_ap_compose *)
    (* Note: coq sucks at unifying this so we have to explicitly give paths *)
    refine (cu_concat_lr (sq_ap_compose t2c c2t surf) _
      (sji0:=?[X1]) (sji1:=?X1) (sj0i:=?[Y1]) (sj1i:=?Y1) (pj11:=1)).
    (* Now we reduce (sq_ap t2c surf) *)
    refine (cu_concat_lr (cu_ap c2t (Torus_rec_beta_surf _ _ _ _ _ )) _
      (sji0:=?[X2]) (sji1:=?X2) (sj0i:=?[Y2]) (sj1i:=?Y2) (pj11:=1)).
    (* We now uncurry c2t inside sq_ap *)
    refine (cu_concat_lr (sq_ap_uncurry _ _ _) _
      (sji0:=?[X3]) (sji1:=?X3) (sj0i:=?[Y3]) (sj1i:=?Y3) (pj11:=1)).
    (* Reduce sq_ap2 c2t' loop loop *)
    refine (cu_concat_lr (pr2 (pr2 c2t'_beta)) _
      (sji0:=?[X4]) (sji1:=?X4) (sj0i:=?[Y4]) (sj1i:=?Y4) (pj11:=1)).
    (* Finally flip and sq_ap idmap *)
    refine (cu_flip_lr (sq_ap_idmap _)).

  *)

 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Local Notation apcs := (ap_compose_sq _ _ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 140
Time: 0.007s">
<div class="time" style="width: 0.2563163676309%"></div>
<pre>

  Definition sq_ap2_compose {A B C D : Type} (f : A -&gt; B -&gt; C) (g : C -&gt; D)
    {a a' : A} (p : a = a') {b b' : B} (q : b = b')
    : Cube (sq_ap2 (fun x y =&gt; g (f x y)) p q) (sq_ap g (sq_ap2 f p q))
        apcs apcs apcs apcs.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 146
Time: 0.016s">
<div class="time" style="width: 0.58586598315635%"></div>
<pre>
    by destruct p, q.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 147
Time: 0.003s">
<div class="time" style="width: 0.10984987184182%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (* We now prove t2c is a retraction of c2t *)
 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition c2t2c : Sect c2t t2c.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Sect; apply prod_ind.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Start with double circle induction *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>srefine (S1_ind_dp _ (S1_ind_dp _ 1 _) _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Change the second loop case into a square and shelve *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 157
Time: 0.018s">
<div class="time" style="width: 0.6590992310509%"></div>
<pre>1: apply sq_dp^-1, sq_tr^-1; shelve.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (* Take the forall out of the DPath *)
   </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 159
Time: 0.001s">
<div class="time" style="width: 0.036616623947272%"></div>
<pre>apply dp_forall_domain.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 159
Time: 0.01s">
<div class="time" style="width: 0.36616623947272%"></div>
<pre>
    intro x; apply sq_dp^-1; revert x.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srefine (S1_ind_dp _ _ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 161
Time: 0.013s">
<div class="time" style="width: 0.47601611131454%"></div>
<pre>
    1: apply sq_tr^-1; shelve.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 162
Time: 0.004s">
<div class="time" style="width: 0.14646649578909%"></div>
<pre>
    apply cu_dp.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 163
Time: 0.005s">
<div class="time" style="width: 0.18308311973636%"></div>
<pre>
    refine (cu_ccGGcc _ _ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 164
Time: 0.015s">
<div class="time" style="width: 0.54924935920908%"></div>
<pre>
    1,2: refine (ap sq_dp (S1_ind_dp_beta_loop _ _ _)
      @ eisretr _ _)^.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 166
Time: 0.007s">
<div class="time" style="width: 0.2563163676309%"></div>
<pre>
    apply cu_rot_tb_fb.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 167
Time: 0.006s">
<div class="time" style="width: 0.21969974368363%"></div>
<pre>
    refine (cu_ccGGGG _ _ _ _ _).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 168
Time: 0.01s">
<div class="time" style="width: 0.36616623947272%"></div>
<pre>
    1,2,3,4: exact (eisretr _ _)^.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 169
Time: 0.049s">
<div class="time" style="width: 1.7942145734163%"></div>
<pre>
    refine((sq_ap2_compose c2t' t2c loop loop)
      @lr (cu_ap t2c (c2t'_beta.2.2))
      @lr (Torus_rec_beta_surf _ _ _ _ _)
      @lr (cu_flip_lr (sq_ap_idmap _))
      @lr (sq_ap_uncurry _ _ _)).</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 174
Time: 2.159s">
<div class="time" style="width: 79.05529110216%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* refine (cu_concat_lr (sq_ap2_compose c2t' t2c loop loop) _
      (sji0:=?[X1]) (sji1:=?X1) (sj0i:=?[Y1]) (sj1i:=?Y1) (pj11:=1)).
    refine (cu_concat_lr (cu_ap t2c (c2t'_beta.2.2)) _
      (sji0:=?[X2]) (sji1:=?X2) (sj0i:=?[Y2]) (sj1i:=?Y2) (pj11:=1)).
    refine (cu_concat_lr (Torus_rec_beta_surf _ _ _ _ _) _
      (sji0:=?[X3]) (sji1:=?X3) (sj0i:=?[Y3]) (sj1i:=?Y3) (pj11:=1)).
    refine (cu_concat_lr (cu_flip_lr (sq_ap_idmap _)) _
      (sji0:=?[X4]) (sji1:=?X4) (sj0i:=?[Y4]) (sj1i:=?Y4) (pj11:=1)).
    apply sq_ap_uncurry. *)

 </pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 187
Time: 0.001s">
<div class="time" style="width: 0.036616623947272%"></div>
<pre>Definition equiv_torus_prod_S1 : Torus &lt;~&gt; S1 * S1
    := equiv_adjointify t2c c2t c2t2c t2c2t.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 188
Time: 2.731s">
<div class="time" style="width: 100%"></div>
<pre>

End TorusEquivCircle.</pre>
</div>
<div class="code" title="File: TorusEquivCircles.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

